{"ast":null,"code":"var _jsxFileName = \"/home/pawan/CF-KNOCKOUT/client/src/components/p3/Room.js\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport { socket } from \"../../Socket\";\nimport { UserCard } from \"./UserCard\";\nimport \"./Room.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar admin;\nexport const Room = () => {\n  _s();\n\n  const history = useHistory();\n  const location = useLocation();\n\n  var randomColor = require(\"randomcolor\");\n\n  let locationPath = location.pathname;\n  var roomid = locationPath.split(\"/\").pop();\n  let definedColors = [\"success\", \"warning\", \"info\", \"danger\", \"primary\", \"dark\"];\n  const [roomData, setRoomData] = useState({\n    users: []\n  });\n  const [problemData, setProblemData] = useState({\n    problems: 0,\n    lrating: 0,\n    urating: 0\n  });\n  const [duration, setDuration] = useState(0);\n  useEffect(() => {\n    axios.post(\"http://localhost:4000/api/checkRoomCode\", {\n      roomCode: roomid\n    }).then(res => {\n      if (res.data.flag == true) {\n        var userid = sessionStorage.getItem(\"userid\");\n        var refresh = sessionStorage.getItem(\"refresh\");\n        var roomSize = sessionStorage.getItem(\"roomsize\");\n        var joiningData = {\n          userid: userid,\n          roomid: roomid,\n          refresh: refresh,\n          roomsize: roomSize\n        };\n        socket.emit(\"join\", joiningData);\n\n        if (refresh === 0) {\n          sessionStorage.setItem(\"refresh\", 1);\n        }\n      } else {\n        history.replace(\"/invalid\");\n      }\n    }).catch(err => console.log(err));\n  }, []);\n  socket.on(\"updateRoomData\", roomData => {\n    sessionStorage.setItem(\"roomData\", JSON.stringify(roomData));\n    admin = roomData.users[0].userId;\n    setRoomData(roomData);\n  });\n  socket.on(\"leaveRoom\", () => {\n    history.replace(\"/dashboard\");\n  });\n  socket.on(\"startContest\", roomid => {\n    history.push({\n      pathname: `/round/${roomid}`\n    });\n  });\n\n  const remove = user => {\n    let removeData = {\n      user,\n      roomid\n    };\n    socket.emit(\"remove\", removeData);\n  };\n\n  const [problemsLoading, setProblemsLoading] = useState(true);\n  var problems = [];\n  var colorMap = {};\n\n  const validate = () => {\n    let endTime = new Date().getTime() + duration * 60 * 1000;\n    axios.post(\"http://localhost:4000/api/round/duration\", {\n      roomid: roomid,\n      duration: endTime\n    }).then(res => {\n      console.log(res.data);\n      socket.emit(\"startContest\", roomid);\n    }).catch(err => console.log(err));\n  };\n\n  const generate = () => {\n    setProblemsLoading(true);\n    var problemInt = parseInt(problemData.problems);\n    var lrangeInt = parseInt(problemData.lrating);\n    var urangeInt = parseInt(problemData.urating);\n    problemInt = Math.min(problemInt, 30);\n    problemInt = Math.max(problemInt, 1);\n    lrangeInt = Math.max(lrangeInt, 800);\n    lrangeInt = Math.min(lrangeInt, 3500);\n    urangeInt = Math.max(urangeInt, 800);\n    urangeInt = Math.max(urangeInt, lrangeInt);\n    urangeInt = Math.min(urangeInt, 3500);\n\n    for (let i = 800; i <= 3500; i += 100) {\n      if (lrangeInt <= i) {\n        lrangeInt = i;\n        break;\n      }\n    }\n\n    for (let i = 800; i <= 3500; i += 100) {\n      if (urangeInt <= i) {\n        urangeInt = i;\n        break;\n      }\n    }\n\n    let problemApiURL = \"https://codeforces.com/api/problemset.problems?\";\n    let problemsArray = [];\n    axios.get(problemApiURL).then(res => {\n      let arraySize = res.data.result.problems.length;\n      let taken = new Map();\n\n      for (let i = 0; i < problemInt;) {\n        let idx = Math.floor(Math.random() * arraySize);\n        let problemObj = res.data.result.problems[idx];\n\n        if (problemObj.rating && problemObj.rating >= lrangeInt && problemObj.rating <= urangeInt && !taken[idx]) {\n          problemObj[\"userSolved\"] = \"\";\n          problemsArray.push(problemObj);\n          taken[idx] = true;\n          i++;\n        }\n      }\n\n      console.log(problemsArray);\n      roomData.users.forEach(user => {\n        colorMap[user.userId] = randomColor({\n          luminosity: \"light\"\n        });\n      });\n      console.log(colorMap);\n      problems = problemsArray;\n      axios.post(\"http://localhost:4000/api/round/problems\", {\n        roomid: roomid,\n        problemsArray: problems,\n        colorMap: colorMap\n      }).then(res => {}).catch(err => console.log(err));\n      setProblemsLoading(false);\n    }).catch(err => console.log(err));\n  };\n\n  let ready = user => {\n    let readyData = {\n      user,\n      roomid\n    };\n    socket.emit(\"ready\", readyData);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"customBgRoom\",\n    children: [admin === sessionStorage.getItem(\"userid\") ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container d-grid\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row px-0\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-7 px-0\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input-group mb-3 my-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"input-group-text px-2 text-responsive fw-bold\",\n              children: \"Number of Problems\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              required: true,\n              type: \"number\",\n              min: \"1\",\n              className: \"form-control text-responsive\",\n              placeholder: \"Enter Number of problems\",\n              id: \"numberOfProblems\",\n              onChange: e => setProblemData(prevState => ({ ...prevState,\n                problems: e.target.value\n              }))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mx-0 col-5 px-0 mt-3 justify-content-center text-end\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-info btn-block text-responsive px-1\",\n            onClick: () => navigator.clipboard.writeText(roomid),\n            children: [\"Room Code \", /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-copy\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 27\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-7 px-0\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"input-group-text px-2 text-responsive fw-bold\",\n              children: \"Rating Range\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              required: true,\n              type: \"number\",\n              min: \"800\",\n              max: \"3500\",\n              step: \"100\",\n              placeholder: \"Starting from\",\n              className: \"form-control text-responsive\",\n              id: \"startRating\",\n              onChange: e => setProblemData(prevState => ({ ...prevState,\n                lrating: e.target.value\n              }))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              required: true,\n              type: \"number\",\n              min: \"800\",\n              max: \"3500\",\n              step: \"100\",\n              placeholder: \"Ending at\",\n              className: \"form-control text-responsive\",\n              id: \"endRating\",\n              onChange: e => setProblemData(prevState => ({ ...prevState,\n                urating: e.target.value\n              }))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-5 text-end\",\n          style: {\n            paddingRight: 0\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input-group mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"input-group-text px-2 text-responsive fw-bold\",\n              children: \"Duration\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              required: true,\n              type: \"number\",\n              min: \"1\",\n              className: \"form-control text-responsive\",\n              placeholder: \"Duration in minutes\",\n              id: \"duration\",\n              onChange: e => setDuration(Math.floor(parseInt(e.target.value)))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row my-3\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col px-0\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary btn-block text-responsive fw-bold m-auto text-responsive\",\n            onClick: generate,\n            children: \"Generate Problems\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row text-center my-3\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn w-25 btn-success btn-block text-responsive fw-bold\",\n            disabled: problemsLoading,\n            onClick: validate,\n            children: [\" \", \"Start Contest\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 9\n    }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fluid-container d-flex justify-content-around align-content-around py-3 flex-wrap\",\n      children: roomData.users ? roomData.users.map((user, idx) => {\n        return /*#__PURE__*/_jsxDEV(UserCard, {\n          user: user,\n          admin: admin,\n          remove: remove,\n          ready: ready\n        }, idx, false, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 17\n        }, this);\n      }) : null\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 187,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Room, \"QB9hLd0hzbhVDVjYq8mQ8CW0Qnk=\", false, function () {\n  return [useHistory, useLocation];\n});\n\n_c = Room;\n\nvar _c;\n\n$RefreshReg$(_c, \"Room\");","map":{"version":3,"names":["axios","React","useState","useEffect","useHistory","useLocation","socket","UserCard","admin","Room","history","location","randomColor","require","locationPath","pathname","roomid","split","pop","definedColors","roomData","setRoomData","users","problemData","setProblemData","problems","lrating","urating","duration","setDuration","post","roomCode","then","res","data","flag","userid","sessionStorage","getItem","refresh","roomSize","joiningData","roomsize","emit","setItem","replace","catch","err","console","log","on","JSON","stringify","userId","push","remove","user","removeData","problemsLoading","setProblemsLoading","colorMap","validate","endTime","Date","getTime","generate","problemInt","parseInt","lrangeInt","urangeInt","Math","min","max","i","problemApiURL","problemsArray","get","arraySize","result","length","taken","Map","idx","floor","random","problemObj","rating","forEach","luminosity","ready","readyData","e","prevState","target","value","navigator","clipboard","writeText","paddingRight","map"],"sources":["/home/pawan/CF-KNOCKOUT/client/src/components/p3/Room.js"],"sourcesContent":["import axios from \"axios\";\nimport React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport { socket } from \"../../Socket\";\nimport { UserCard } from \"./UserCard\";\nimport \"./Room.css\";\nvar admin;\n\nexport const Room = () => {\n  const history = useHistory();\n  const location = useLocation();\n  var randomColor = require(\"randomcolor\");\n\n  let locationPath = location.pathname;\n  var roomid = locationPath.split(\"/\").pop();\n  let definedColors = [\n    \"success\",\n    \"warning\",\n    \"info\",\n    \"danger\",\n    \"primary\",\n    \"dark\",\n  ];\n\n  const [roomData, setRoomData] = useState({ users: [] });\n  const [problemData, setProblemData] = useState({\n    problems: 0,\n    lrating: 0,\n    urating: 0,\n  });\n  const [duration, setDuration] = useState(0);\n\n  useEffect(() => {\n    axios\n      .post(\"http://localhost:4000/api/checkRoomCode\", { roomCode: roomid })\n      .then((res) => {\n        if (res.data.flag == true) {\n          var userid = sessionStorage.getItem(\"userid\");\n          var refresh = sessionStorage.getItem(\"refresh\");\n          var roomSize = sessionStorage.getItem(\"roomsize\");\n          var joiningData = {\n            userid: userid,\n            roomid: roomid,\n            refresh: refresh,\n            roomsize: roomSize,\n          };\n\n          socket.emit(\"join\", joiningData);\n          if (refresh === 0) {\n            sessionStorage.setItem(\"refresh\", 1);\n          }\n        } else {\n          history.replace(\"/invalid\");\n        }\n      })\n      .catch((err) => console.log(err));\n  }, []);\n\n  socket.on(\"updateRoomData\", (roomData) => {\n    sessionStorage.setItem(\"roomData\", JSON.stringify(roomData));\n    admin = roomData.users[0].userId;\n    setRoomData(roomData);\n  });\n\n  socket.on(\"leaveRoom\", () => {\n    history.replace(\"/dashboard\");\n  });\n\n  socket.on(\"startContest\", (roomid) => {\n    history.push({\n      pathname: `/round/${roomid}`,\n    });\n  });\n\n  const remove = (user) => {\n    let removeData = {\n      user,\n      roomid,\n    };\n    socket.emit(\"remove\", removeData);\n  };\n\n  const [problemsLoading, setProblemsLoading] = useState(true);\n  var problems = [];\n  var colorMap = {};\n\n  const validate = () => {\n    let endTime = new Date().getTime() + duration * 60 * 1000;\n    axios\n      .post(\"http://localhost:4000/api/round/duration\", {\n        roomid: roomid,\n        duration: endTime,\n      })\n      .then((res) => {\n        console.log(res.data);\n        socket.emit(\"startContest\", roomid);\n      })\n      .catch((err) => console.log(err));\n  };\n\n  const generate = () => {\n    setProblemsLoading(true);\n    var problemInt = parseInt(problemData.problems);\n    var lrangeInt = parseInt(problemData.lrating);\n    var urangeInt = parseInt(problemData.urating);\n\n    problemInt = Math.min(problemInt, 30);\n    problemInt = Math.max(problemInt, 1);\n\n    lrangeInt = Math.max(lrangeInt, 800);\n    lrangeInt = Math.min(lrangeInt, 3500);\n    urangeInt = Math.max(urangeInt, 800);\n\n    urangeInt = Math.max(urangeInt, lrangeInt);\n    urangeInt = Math.min(urangeInt, 3500);\n\n    for (let i = 800; i <= 3500; i += 100) {\n      if (lrangeInt <= i) {\n        lrangeInt = i;\n        break;\n      }\n    }\n    for (let i = 800; i <= 3500; i += 100) {\n      if (urangeInt <= i) {\n        urangeInt = i;\n        break;\n      }\n    }\n\n    let problemApiURL = \"https://codeforces.com/api/problemset.problems?\";\n    let problemsArray = [];\n\n    axios\n      .get(problemApiURL)\n      .then((res) => {\n        let arraySize = res.data.result.problems.length;\n        let taken = new Map();\n\n        for (let i = 0; i < problemInt; ) {\n          let idx = Math.floor(Math.random() * arraySize);\n\n          let problemObj = res.data.result.problems[idx];\n\n          if (\n            problemObj.rating &&\n            problemObj.rating >= lrangeInt &&\n            problemObj.rating <= urangeInt &&\n            !taken[idx]\n          ) {\n            problemObj[\"userSolved\"] = \"\";\n            problemsArray.push(problemObj);\n            taken[idx] = true;\n            i++;\n          }\n        }\n        console.log(problemsArray);\n        roomData.users.forEach((user) => {\n          colorMap[user.userId] = randomColor({ luminosity: \"light\" });\n        });\n        console.log(colorMap);\n        problems = problemsArray;\n\n        axios\n          .post(\"http://localhost:4000/api/round/problems\", {\n            roomid: roomid,\n            problemsArray: problems,\n            colorMap: colorMap,\n          })\n          .then((res) => {})\n          .catch((err) => console.log(err));\n\n        setProblemsLoading(false);\n      })\n      .catch((err) => console.log(err));\n  };\n\n  let ready = (user) => {\n    let readyData = {\n      user,\n      roomid,\n    };\n    socket.emit(\"ready\", readyData);\n  };\n\n  return (\n    <div className=\"customBgRoom\">\n      {admin === sessionStorage.getItem(\"userid\") ? (\n        <div className=\"container d-grid\">\n          <div className=\"row px-0\">\n            <div className=\"col-7 px-0\">\n              <div className=\"input-group mb-3 my-3\">\n                <span className=\"input-group-text px-2 text-responsive fw-bold\">\n                  Number of Problems\n                </span>\n                <input\n                  required={true}\n                  type=\"number\"\n                  min=\"1\"\n                  className=\"form-control text-responsive\"\n                  placeholder=\"Enter Number of problems\"\n                  id=\"numberOfProblems\"\n                  onChange={(e) =>\n                    setProblemData((prevState) => ({\n                      ...prevState,\n                      problems: e.target.value,\n                    }))\n                  }\n                />\n              </div>\n            </div>\n            <div className=\"mx-0 col-5 px-0 mt-3 justify-content-center text-end\">\n              <button\n                className=\"btn btn-info btn-block text-responsive px-1\"\n                onClick={() => navigator.clipboard.writeText(roomid)}\n              >\n                Room Code <i className=\"fas fa-copy\"></i>\n              </button>\n            </div>\n          </div>\n\n          <div className=\"row\">\n            <div className=\"col-7 px-0\">\n              <div className=\"input-group\">\n                <span className=\"input-group-text px-2 text-responsive fw-bold\">\n                  Rating Range\n                </span>\n                <input\n                  required={true}\n                  type=\"number\"\n                  min=\"800\"\n                  max=\"3500\"\n                  step=\"100\"\n                  placeholder=\"Starting from\"\n                  className=\"form-control text-responsive\"\n                  id=\"startRating\"\n                  onChange={(e) =>\n                    setProblemData((prevState) => ({\n                      ...prevState,\n                      lrating: e.target.value,\n                    }))\n                  }\n                />\n                <input\n                  required={true}\n                  type=\"number\"\n                  min=\"800\"\n                  max=\"3500\"\n                  step=\"100\"\n                  placeholder=\"Ending at\"\n                  className=\"form-control text-responsive\"\n                  id=\"endRating\"\n                  onChange={(e) =>\n                    setProblemData((prevState) => ({\n                      ...prevState,\n                      urating: e.target.value,\n                    }))\n                  }\n                />\n              </div>\n            </div>\n            <div className=\"col-5 text-end\" style={{ paddingRight: 0 }}>\n              <div className=\"input-group mb-3\">\n                <span className=\"input-group-text px-2 text-responsive fw-bold\">\n                  Duration\n                </span>\n                <input\n                  required={true}\n                  type=\"number\"\n                  min=\"1\"\n                  className=\"form-control text-responsive\"\n                  placeholder=\"Duration in minutes\"\n                  id=\"duration\"\n                  onChange={(e) =>\n                    setDuration(Math.floor(parseInt(e.target.value)))\n                  }\n                />\n              </div>\n            </div>\n          </div>\n\n          <div className=\"row my-3\">\n            <div className=\"col px-0\">\n              <button\n                className=\"btn btn-primary btn-block text-responsive fw-bold m-auto text-responsive\"\n                onClick={generate}\n              >\n                Generate Problems\n              </button>\n            </div>\n          </div>\n\n          <div className=\"row text-center my-3\">\n            <div className=\"col\">\n              <button\n                className=\"btn w-25 btn-success btn-block text-responsive fw-bold\"\n                disabled={problemsLoading}\n                onClick={validate}\n              >\n                {\" \"}\n                Start Contest\n              </button>\n            </div>\n          </div>\n        </div>\n      ) : null}\n      <div className=\"fluid-container d-flex justify-content-around align-content-around py-3 flex-wrap\">\n        {roomData.users\n          ? roomData.users.map((user, idx) => {\n              return (\n                <UserCard\n                  user={user}\n                  admin={admin}\n                  remove={remove}\n                  ready={ready}\n                  key={idx}\n                />\n              );\n            })\n          : null}\n      </div>\n    </div>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}